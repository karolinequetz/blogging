<section class="comments-section">
  <h3>Comentários</h3>

  @for ( comment of commentTree; track comment.id) {
  <ng-container
    *ngTemplateOutlet="commentTemplate; context: { $implicit: comment }"
  ></ng-container>

  <ng-template #commentTemplate let-comment>
    <section class="comment">
      <button class="button-link">
        {{ comment.author.username }} - {{ comment.timestamp }}
      </button>
      <p>{{ comment.content }}</p>

      <app-button btn-text="Responder"></app-button>
      @if(comment.replies && comment.replies.length > 0) { @for( reply of
      comment.replies; track reply.id){
      <ng-container
        *ngTemplateOutlet="commentTemplate; context: { $implicit: reply }"
      ></ng-container>
      } }
    </section>
  </ng-template>
  } @empty {
  <p>Nenhum comentário para ser exibido.</p>
  }
</section>
